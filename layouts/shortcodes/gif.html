{{ $webmLink := printf "/static%s" (path.Clean (.Get "webm_src")) }}
{{ $mp4Link := printf "/static%s" (path.Clean (.Get "mp4_src")) }}

{{if os.FileExists $webmLink }}
  {{ $f := os.Stat $webmLink }}
  {{ $sizeInBytes := div $f.Size 1000 }}
  {{ if gt $sizeInBytes 1000 }}
    {{ warnf "Size of video file %s was %d kB - please reduce file size" $webmLink $sizeInBytes  }}
  {{ end }}
{{ else }}
  {{warnf "Please use absolute file path: %s" $webmLink}}
{{end}}
{{if os.FileExists $mp4Link }}
  {{ $f := os.Stat $mp4Link }}
  {{ $sizeInBytes := div $f.Size 1000 }}
  {{ if gt $sizeInBytes 1000 }}
    {{ warnf "Size of video file %s was %d kB - please reduce file size" $mp4Link $sizeInBytes  }}
  {{ end }}
{{end}}
<div>
  <video autoplay loop muted playsinline alt="{{ .Get "alt" }}" width="100%" style="max-width: {{ .Get "max-width" }}" class="{{- if .Get "class" -}}{{ .Get "class"}}{{- end }} lozad">
  <source data-src="{{ .Get "webm_src" }}" type="video/webm">
  <source data-src="{{ .Get "mp4_src" }}" type="video/mp4">
  There should have been a video here but your browser does not seem
  to support it.
</video>
</div>