  <div class="d-print-none feedback">
    <div class="feedback--prompt">
        <p class="feedback--question">Was this page helpful?</p>
        <button class="docsbutton feedbackButton feedback--answer feedback--answer-yes">Yes</button>
        <button class="docsbutton feedback--answer feedback--answer-no">No</button>
    </div>
    <div class="feedback--response feedback--response-yes">
      <p>{{ .Site.Params.ui.feedback.yes | safeHTML }}</p>
      <div>
        <input name="feedback" id="feedback-text" value="Feedback">
        <input type="hidden" name="url" id="feedback-url" value="{{.Permalink}}">
        <button type="submit" id="yesSubmitButton">Send</button>
      </div>
    </div>
    <div class="feedback--response feedback--response-no">
      <p>{{ .Site.Params.ui.feedback.no | safeHTML }}</p>
      <div>
        <input name="feedback" id="feedback-text" value="Feedback">
        <input type="hidden" name="url" id="feedback-url" value="{{.Permalink}}">
        <button type="submit" id="noSubmitButton">Send</button>
      </div>
    </div>
  </div>
  <script>
    const yesButton = document.querySelector('.feedback--answer-yes');
    const noButton = document.querySelector('.feedback--answer-no');
    const yesResponse = document.querySelector('.feedback--response-yes');
    const noResponse = document.querySelector('.feedback--response-no');
    const yesSubmitButton = document.querySelector('#yesSubmitButton');
    const noSubmitButton = document.querySelector('#noSubmitButton');
    const disableButtons = () => {
      yesButton.disabled = true;
      noButton.disabled = true;
    };
    const sendFeedback = (value) => {
      if (typeof gtag !== 'function') return;
      const args = {
        event_category: 'docs_helpful',
        event_label: window.location.pathname,
        value: value
      };
      gtag('event', 'click', args);
    };
    async function sendFeedbackText (value) {
      async function logJSONData(data) {
        return fetch("https://feedback-43tn7xos3a-uc.a.run.app", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          credentials: "omit",
          body: JSON.stringify(data),
        });
      }
      let data = {
          feedback: "test",
          url: "{{.Permalink}}"
        };
      logJSONData(data).then((res) => {console.log(res)});
    };
    yesButton.addEventListener('click', () => {
      yesResponse.classList.add('feedback--response__visible');
      disableButtons();
      sendFeedback(1);
    });
    noButton.addEventListener('click', () => {
      noResponse.classList.add('feedback--response__visible');
      disableButtons();
      sendFeedback(0);
    });
    console.log(yesSubmitButton);
    yesSubmitButton.addEventListener('click', () => {
      // yesResponse.classList.add('feedback--response__visible');
      // disableButtons();
      sendFeedbackText(1);
    });
    console.log(noSubmitButton);
    noSubmitButton.addEventListener('click', () => {
      // yesResponse.classList.add('feedback--response__visible');
      // disableButtons();
      sendFeedbackText(0);
    });
  </script>
