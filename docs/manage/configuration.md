---
title: "Robot Configuration"
linkTitle: "Robot Configuration"
weight: 25
type: "docs"
description: "Details about configuring robots with Viam."
tags: ["manage", "components"]
---

Configuration is the process of telling your robot what *resources* (hardware [components](/components/) and software [services](/services/)) it has access to, and the relevant parameters of those resources, so that the robot software knows how to interact with its resources.

This page details some overarching concepts and [best practices](#best-practices), and will help you understand what is going on in the background when you change your robot's configuration.

You can find specifics on how to configure a resource of a given type and model in the respective documentation:

- [Find information on supported component types here.](/components/)
- [Find information on supported service types here.](/services/)

In addition to components and services, you can configure [modules](#modules), [remotes](#remotes), [processes](#processes), [fragments](#fragments), [authorization keys](#authnetwork) and [frames](#frame-system), as detailed below.

## Your robot's config file

The configuration file contains sections for components and services, as well as any modules, remotes, processes and frames you configure.

Viam robot configuration files are written in [JSON (JavaScript Object Notation)](https://en.wikipedia.org/wiki/JSON).

{{% expand "An example config file for a robot with a board component, motor component, and vision service configured" %}}

```json
{
  "components": [
    {
      "name": "local",
      "type": "board",
      "model": "pi",
      "attributes": {},
      "depends_on": []
    },
    {
      "name": "my-motor",
      "type": "motor",
      "model": "gpio",
      "attributes": {
        "pins": {
          "a": "13",
          "b": "15"
        },
        "board": "local",
        "max_rpm": 120
      },
      "depends_on": [],
    }
  ],
  "services": [
    {
      "name": "detector",
      "type": "vision",
      "attributes": {
        "register_models": [
          {
            "parameters": {
              "segment_size_px": 200,
              "hue_tolerance_pct": 0.05,
              "detect_color": "#19FFD9"
            },
            "type": "color_detector",
            "name": "green_detector"
          }
        ]
      }
    }
  ],
  "modules": []
}
```

{{% /expand %}}

When you turn on your robot, `viam-server` starts up and looks in its local <file>/etc/viam.json</file> for its configuration information.
The <file>/etc/viam.json</file> file will contain one of two things:

- If you set up your robot to connect to the [Viam app](https://app.viam.com) by following the steps on the **SETUP** tab, this file will contain the credentials for your robot to get its full config from the Viam app.
Step 1 on the **SETUP** tab alters this file.
For example,

  ```json
  {"cloud":{"app_address":"https://app.viam.com:123","id":"123456ab-a1b2-12a3-a123-1a2b345cdefg6",
  "secret":"ab0cd0efghijkl0m12no3pqrstuvw0xyza4bcd567891abcd"}}
  ```

  Look at the **CONFIG** tab on your robot's page to view and edit the full config file showing components and services.

- If you write your config file locally without connecting to the Viam app, <file>/etc/viam.json</file> contains your full config file.
  Technically, you can put your config file anywhere you want as long as when starting `viam-server`, you pass in the path to the config file.
  <file>/etc/viam.json</file> is just the default location.

## The CONFIG tab

The **CONFIG** tab is a central feature of your robot's page on the [Viam app](https://app.viam.com).

You can use the mode selector to switch between **Builder** and **Raw JSON**:

- **Builder** mode provides a graphical interface for configuring your robot resources.
It generates properly formatted JSON for you.
- **Raw JSON** mode provides a text editing field where you can write and edit the full config manually.
It can be convenient to view a large config in raw JSON mode because all the components, services, modules and more that you configure in individual tabs of builder mode will appear in one long file in raw JSON mode.
You can also copy and paste the raw JSON if needed.

![The CONFIG tab of the Viam app with a box highlighting the CONFIG tab and the Mode selector (where you can select Builder or Raw JSON).](../img/configuration/config-tab.png)

If you add components in **Builder** mode and click **Save Config** at the bottom of the screen, you can switch to **Raw JSON** and see the JSON that has been generated by the builder.

The sections of the robot config (which each have corresponding sub-tabs on the **CONFIG** tab) are as follows:

## Components

[Components](/components/) represent the pieces of hardware on your robot that you want to control with Viam.
You must configure each component with a name, a model, a type, attributes, and dependencies:

- `name`: Serves as an identifier when accessing the resource from your code, as well as when configuring other resources that are dependent on that resource.
You can choose any unique name for a component.

- `type`: The broad component category, such as `motor`, `arm` or `camera`.
  Components of a given type have a common API.

- `model`: Indicates the more specific category of hardware.
Components of the same model are supported using the same low-level code.

- `attributes`: A struct to define things like how the component is wired to the robot, its dimensions, and other specifications; attributes vary widely between models.
  See the [component documentation](/components/) for a given comonent type and model for more details.

- `depends_on`: Any components that a given component relies upon, and that must be initialized on boot before this component is initialized.
  Many built-in components have convenient implicit dependencies, in which case `depends_on` can be left blank.
  For example, a [`gpio` motor](/components/motor/gpio/) depends on the `board` to which it is wired, but it has a dedicated `board` attribute and `viam-server` will automatically initialize that board before it looks for the motor.

When you configure a component on the **CONFIG** tab, it will also appear on the **CONTROL** tab which gives you an interface to test and interact with it.
Meanwhile the **CODE SAMPLE** tab will also update to include code for some basic interaction with that component using the Viam [SDKs](/program/sdk-as-client/).

## Services

[Services](/services/) are built-in software packages that make it easier to add complex capabilities such as motion planning or object detection to your robot.

For services, the `type` specifies which of the Viam services you want to use on your robot, such as the Vision Service or the Motion Service.

The `name` serves as an identifier when accessing the resource from your code, as well as when configuring other resources that are dependent on that resource.
You can choose any unique name for a service.

The other aspects of configuring a service are highly specific to the type of service.
See the [services documentation](/services/) for more information.

## Modules

To add a [modular resource](https://docs.viam.com/program/extend/modular-resources/) as a component or service of your robot, configure a module per the [modular resource documentation](/program/extend/modular-resources/#add-a-module-to-your-robot-configuration).

## Remotes

Configuring a remote is a way to connect two separate robots so one can access the resources of the other.
Find more information in our remotes documentation.

## Processes

Configuring a process is a way to automatically run a specified script when the robot boots.

Start by giving the process a **Name** (`id` in raw JSON) (an identifier of your choice) and clicking **Create Process**.

The following fields will expand (raw JSON attribute names shown in code style in parentheses):

- **Executable** (`name`): (string) The command you want to execute when your robot connects to the server.
- **Arguments** (`args`): (string) Optional arguments to follow the command
- **Working Directory** (`cwd`): (string) Where you want the process to execute.
  An optional setting that defaults to the directory where `viam-server` executes.

You can also toggle whether you want errors and other messages to be logged, and whether to execute the command just once or keep running the process indefinitely.
In raw JSON, these options are represented by `log` (bool) and `one_shot` (bool), respectively.

{{% expand "Click to see an example of a configured process." %}}

The following configuration executes the command `python3 my_cool_script.py` in your <file>/home/myName/project/</file> directory every time your robot boots, and keeps it executing indefinitely.

![The PROCESSES sub-tab of the CONFIG tab with a process called run-my-code configured. The executable is python3, the argument is my_cool_script.py, and the working directory is /home/myName/project. Logging is turned on and execute once is turned off.](../img/configuration/process-fancy.png)

The corresponding raw JSON looks like this:

```json
"processes": [
    {
      "id": "run-my-code",
      "log": true,
      "name": "python3",
      "args": [
        "my_cool_script.py"
      ],
      "cwd": "/home/myName/project/"
    }
  ]
```

{{% /expand %}}

## Fragments

Fragments are a way of sharing and managing identical configuration files (or parts of config files) across multiple robots.
For example, if you have multiple robots with the same hardware, wired the same way, you can create and share a fragment and add it to any number of robots.
When changes are made to the fragment, those changes are automatically carried to all robots that include the fragment in their config.

You can add a fragment to a robot's config and also add other configuration outside the fragment.
For example, if you have lots of identical rovers but one has an arm attached, you can add the rover configuration fragment (including the motors and base components), and then configure the arm on just that one rover.

## Auth/network

## Frame system

Configure a frame for a given component on its panel on the **COMPONENTS** tab, then switch to the **FRAME SYSTEM** tab to visualize the relative positions.
Find more information in the [frame system documentation](/services/frame-system/).

## Best practices

Some best practices when configuring your robot include:

- Click **Save Config** before changing tabs, and before switching between **Builder** and **Raw JSON** mode.
- Configure one component at a time.
  After configuring each component and clicking **Save Config**, if your robot is powered and **last online** in the top banner says "Live," you can test it by switching to the **CONTROL** tab and waiting for the component to initialize, and then using the **CONTROL** tab interface to interact with the component and check for the expected behavior.

## Troubleshooting

- Check the **LOGS** tab to check for any errors or other info from `viam-server`.
- You can also view logs locally by running the following command on the robot:
  
  {{< tabs >}}
  {{% tab name="Linux" %}}

  ```bash
  sudo journalctl --unit=viam-server
  ```

  {{% /tab %}}
  {{% tab name="macOS" %}}

  ```bash
  cat $(brew --prefix)/var/log/viam.log
  ```

  {{% /tab %}}
  {{< /tabs >}}

- Make sure the issue is not hardware related.
  Some things to check are that the robot has adequate power, all wires are properly connected, and no chips or other hardware components are shorted or overheated.
- {{< snippet "social.md" >}}