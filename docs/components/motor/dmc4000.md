---
title: "Configure a `DMC4000` motor"
linkTitle: "DMC4000"
weight: 60
type: "docs"
description: "How to configure a motor with model `DMC4000`"
# SMEs: Rand, James
---

This model supports stepper motors controlled by [DMC-40x0 series motion controllers](https://www.galil.com/motion-controllers/multi-axis/dmc-40x0).

Whereas a basic low-level stepper driver supported by the [`gpiostepper` model](/components/motor/gpiostepper/) sends power to a stepper motor based on PWM signals from GPIO pins, the DMC40x0 motion controller has many motion control features.
It does not require a [board component](/components/board/) to be configured because it handles computation and signal creation on the motion controller itself.

The DMC-40x0 controller can drive a variety of motor types, but the built-in Viam implementation supports only stepper motors at this time.
Other types of motors could be driven by Viam and the DMC-40x0 by [creating a custom motor model](/program/extend/).

Example configuration for a stepper motor controlled by a DMC-40x0 motion controller:

{{< tabs >}}
{{% tab name="Builder UI" %}}

<img src="../../img/motor/dmc4000-config-ui.png" alt="Screenshot of a DMC4000 motor config with the attributes configured per the Raw JSON on the next tab in this doc." style="max-width:800px;width:100%" >

{{% /tab %}}
{{% tab name="Raw JSON" %}}

```json
{
  "components": [
    {
      "name": "my-dmc-motor",
      "type": "motor",
      "model": "DMC4000",
      "attributes": {
        "amplifier_gain": 3,
        "low_current": 1,
        "ticks_per_rotation": 200,
        "serial_path": "/dev/serial/by-path/<device_ID>",
        "controller_axis": "A",
        "home_rpm": 70,
        "max_rpm": 300
      },
      "depends_on": []
    }
  ]
}
```

{{% /tab %}}
{{< /tabs >}}

#### Required Attributes

Name | Type | Description
-------------- | ---- | ---------------
`amplifier_gain` | int | Set the per phase current (when using stepper amp); see <https://www.galil.com/download/comref/com4103/index.html#amplifier_gain.html>.
`low_current` | int | Can reduce current when holding; see <https://www.galil.com/download/comref/com4103/index.html#low_current_stepper_mode.html>.
`ticks_per_rotation` | int | Number of full steps in a rotation. 200 (equivalent to 1.8 degrees per step) is very common.
`serial_path` | string | Path to /dev/ttyXXXX file.
`controller_axis` | string | Physical port label (A-H); select which "axis" the motor is wired to on the controller.
`home_rpm` | integer | Speed in revolutions per minute that the motor will turn when executing a Home() command (via DoCommand() since not part of standard motor API).

#### Optional Attributes

Name | Type | Description
-------------- | ---- | ---------------
`dir_flip` | bool | Flip the direction of the signal sent if there is a DIR pin.
`max_rpm` | float64 | Set a limit on maximum revolutions per minute that the motor can be run at.
`max_acceleration_rpm_per_sec` | float64 | Set a maximum RPM per second acceleration limit.
