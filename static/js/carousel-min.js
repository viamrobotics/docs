document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".carousel");e.forEach(function(e){let t=e.querySelector("ul"),l=Math.round(t.offsetWidth/t.querySelector("li:nth-child(1)").offsetWidth),c=e.querySelectorAll("ol li"),r=e.querySelectorAll("ul li"),i=e.querySelector(".next"),n=e.querySelector(".prev");i.style.display="block",n.style.display="block",t.scrollLeft=0,c[0].classList.add("selected"),r[0].classList.add("selected"),l>1&&e.querySelectorAll("ol li:nth-last-child(-n + "+(l-1)+")").forEach(function(e){e.remove()});let o=function(){c.forEach(function(e){e.classList.remove("selected")}),r.forEach(function(e){e.classList.remove("selected")});let l=e.querySelector("ul li:nth-child(2)").offsetLeft-e.querySelector("ul li:nth-child(1)").offsetLeft,i=Math.round(t.scrollLeft/l+1);if(e.querySelector("ol li:nth-child("+i+")").classList.add("selected"),e.querySelector("ul li:nth-child("+i+")").classList.add("selected"),e.parentElement.parentElement.querySelector(".dynamictitle")){let n=e.querySelector("ul li:nth-child("+i+") img").getAttribute("title");n&&(e.parentElement.parentElement.querySelector(".dynamictitle").innerHTML=n)}},s=function(e){e.preventDefault(),t.scrollLeft=t.querySelector(this.getAttribute("href")).offsetLeft},d=function(){e.querySelector("ol li:last-child").classList.contains("selected")?e.querySelector("ol li:first-child a").click():e.querySelector("ol li.selected").nextElementSibling.querySelector("a").click()},a=function(){e.querySelector("ol li:first-child").classList.contains("selected")?e.querySelector("ol li:last-child a").click():e.querySelector("ol li.selected").previousElementSibling.querySelector("a").click()},u=function(){t.classList.add("interacted")};t.addEventListener("scroll",debounce(o)),t.addEventListener("touchstart",u),t.addEventListener("keydown",function(e){"ArrowLeft"==e.key&&t.classList.add("interacted"),"ArrowRight"==e.key&&t.classList.add("interacted")}),i.addEventListener("click",d),i.addEventListener("mousedown",u),i.addEventListener("touchstart",u),n.addEventListener("click",a),n.addEventListener("mousedown",u),n.addEventListener("touchstart",u),c.forEach(function(e){e.querySelector("a").addEventListener("click",s),e.addEventListener("mousedown",u),e.addEventListener("touchstart",u)}),e.getAttribute("duration")&&setInterval(function(){t!=document.querySelector(".carousel:hover ul")&&!1==t.classList.contains("interacted")&&i.click()},e.getAttribute("duration"))})});function debounce(e){let t;return function(){let l=this,c=arguments;t&&window.cancelAnimationFrame(t),t=window.requestAnimationFrame(function(){e.apply(l,c)})}}